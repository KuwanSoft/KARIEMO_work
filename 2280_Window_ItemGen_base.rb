#==============================================================================
# ■ Window_ItemGen_base
#------------------------------------------------------------------------------
# 　アイテム合成のバックグラウンド
#==============================================================================
class Window_ItemGen_base < Window_Base
  #--------------------------------------------------------------------------
  # ● 初期化処理
  #--------------------------------------------------------------------------
  def initialize
    @list = Window_ItemGen_list.new
    super( 94, 16, 400, 414)
    self.visible = false
    self.z = 115
  end
  #--------------------------------------------------------------------------
  # ● アップデート
  #--------------------------------------------------------------------------
  def update
    super
    @list.update
  end
  #--------------------------------------------------------------------------
  # ● visibleの継承
  #--------------------------------------------------------------------------
  def visible=(new)
    super
    @list.visible = new
    @list.active = new
  end
  #--------------------------------------------------------------------------
  # ● visibleの継承
  #--------------------------------------------------------------------------
  def z=(new)
    super
    @list.z = new + 1
  end
  #--------------------------------------------------------------------------
  # ● dispose
  #--------------------------------------------------------------------------
  def dispose
    super
    @list.dispose
  end
  #--------------------------------------------------------------------------
  # ● 合成可能？
  #--------------------------------------------------------------------------
  def can_compose?
    return @list.can_compose?
  end
  #--------------------------------------------------------------------------
  # ● 合成実施
  #--------------------------------------------------------------------------
  def do_compose
    return @list.do_compose
  end
  #--------------------------------------------------------------------------
  # ● 選択中アイテムの取得
  #--------------------------------------------------------------------------
  def get_item
    return @list.get_item
  end
  #--------------------------------------------------------------------------
  # ● リフレッシュ
  #--------------------------------------------------------------------------
  def refresh(actor)
    self.contents.clear
    change_font_to_v
    self.contents.font.color = earth_color
    self.contents.draw_text(0, 0, self.width-32, BLH, "-さくせいかのうアイテム-", 1)
    sv = MISC.skill_value(SKILLID::HERB, actor)
    self.contents.font.color = normal_color
    self.contents.draw_text(0, BLH*1, self.width-32, BLH, "スキルじっこうち:#{sv}")
    self.contents.font.color = earth_color
    self.contents.draw_text(0, BLH*12, self.width-32, BLH, "-ざいりょう-", 1)
    self.contents.font.color = normal_color
    @list.refresh(actor)
  end
  #--------------------------------------------------------------------------
  # ● 初期化時のみINDEXをリセット
  #--------------------------------------------------------------------------
  def set_index_zero
    @list.index = 0
  end
end
